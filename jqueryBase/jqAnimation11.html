<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <style>
        img {
            width: 100px;
            position: relative;
            margin-bottom: 30px;
        }

        div {
            position: absolute;
            top: 30px;
            left: 1100px;
            width: 2px;
            height: 400px;
            background-color: red;
        }
        #control{
            width: 30px;
            height: 30px;
            background-color: #eee;
        }
    </style>
    <script>
        $(function(){
            let setInval;
            let num = 0;
            $('#control').click(function(){
                num++;
                $(this).html(num);
            })
        })
        $(function () {
            let setValue;
            $('#set').click(function(){
                $('img').css('left', 0);
                $('.topName').html('');
            })
            $('#start').click(function () {
                setValue = setInterval(function () {
                    for (let i = 0; i < 5; i++) {
                        let distance = Math.floor(Math.random() * 30) + 1;
                        $('img').eq(i).animate({
                            left: '+=' + distance
                        }, 500);
                        let goalLine = parseInt($('img').eq(i).css('left'));
                        if (goalLine >= 1000) {
                            clearInterval(setValue);
                            $('.topName').html(">>" + (i + 1) + "번 표범 우승");
                            break; // Stop the loop once a winner is found
                        }
                    }
                }, 500);
            });
        });
    </script>
</head>

<body>
    <button id="start">출발</button>-----<button id = "set">제자리로</button>
    <div id="control">0</div>
    <span class="topName"></span>
    <br><br>
    <img src="../images/표범.gif" alt="1번선수">
    <br>
    <img src="../images/표범.gif" alt="2번선수">
    <br>
    <img src="../images/표범.gif" alt="3번선수">
    <br>
    <img src="../images/표범.gif" alt="4번선수">
    <br>
    <img src="../images/표범.gif" alt="5번선수">
    <br>
</body>

</html>
